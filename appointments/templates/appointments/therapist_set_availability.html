{% extends 'base.html' %}
{% block title %}Set Availability{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Set Your Availability</h2>
    
    <h3>Add New Availability Slot</h3>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Add Slot</button>
    </form>

    <h3 class="mt-5">Current Availability Slots</h3>
    {% if current_availabilities %}
        <ul class="list-group">
            {% for av in current_availabilities %}
                <li class="list-group-item">
                    {{ av.get_day_of_week_display }}: {{ av.start_time|time:"H:i" }} - {{ av.end_time|time:"H:i" }}
                    <a href="{% url 'appointments:delete_availability' av.pk %}" class="btn btn-sm btn-danger float-right" onclick="return confirm('Are you sure you want to delete this availability slot?');">Delete</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No availability slots set yet.</p>
    {% endif %}
</div>
{% endblock %}